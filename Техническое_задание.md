## Техническое задание на разработку алгоритмов движения робота-пылесоса с учетом препятствий прямоугольной формы с полным покрытием площади помещения и минимизацией перемещения по пройденной территории (Робот-пылесос)

### **1. Описание проекта**

**Условия проекта:**

**1. Данные:**
* робот-пылесос;
* помещение, в котором присутствуют два-три препятствия простой геометрической формы (прямоугольники);
* робот-пылесос знает, где находятся препятствия прямоугольной формы в помещении.

**2. Требования к функциональности:**

**Алгоритмы робота-пылесоса должны обеспечивать:**
* эффективное покрытие площади перемещения, избегая препятствий прямоугольной формы;
* минимизация перемещения по уже пройденной территории.

**Цель проекта:** разработка алгоритмов движения робота-пылесоса, которые обеспечат полное покрытие помещения с тремя препятствиями простой геометрической формы (прямоугольники) и минимизацию перемещения по уже пройденной территории.

**Задачи проекта:**

1. Рассмотреть теоретические аспекты разработки алгоритмов движения робота-пылесоа;
2. Разработать алгоритмы движения робота-пылесоса в помещении, учитывающие три препятствия прямоугольной формы;
3. Для демонстрации алгоритмов движения робота-пылесоса создать анимацию траекторий перемещения робота-пылесоса на языке программирования Python с использованием библиотеки Matplotlib.

### **2. Требования к проекту**

Алгоритмы движения робота-пылесоса написаны на языке программирования Python (версия 3.11)

Использована библиотека Matplotlib (3.10.0)

**В алгоритмах движений:**
* Робот-пылесос представлен в виде красного круга.
* Три препятствия представлены в виде синих прямоугольников.
* Траектория движения робота-пылесоса представлена в виде зеленой линии.  

**1. Для реализации режимов необходимо создать комнату с тремя препятствиями прямоугольной формы.**

Размер комнаты - 16*10 (16 в длину, 10 в ширину)

Координаты препятствий (координата правого нижнего угла, ширина, высота):
* первый прямоугольник - (-1, 7), 4, 3
* второй прямоугольник - (5, -1), 4, 3
* третий прямоугольник - (10, 5), 3, 5

**2. Далее были разработаны 5 режимов уборки робота-пылесоса (3 режима с полным покрытием помещения и 2 режима вспомогательных с неполным покрытием помещения).**

   **Разработка каждого режима происходила в два этапа:**
   * движение робота-пылесоса по траектории без препятствий
   * учет препятствий после создания основной идеи движения

1. Режим уборки зиг-загом

   Это уборка по зигзагообразной траектории, хорошо подходит для тщательной очистки небольшого пространства, например одной комнаты.

   **Сначала была разработана идея движения:** робот-пылесос начинает движение вдоль стены из координаты (0, 0). Если робот-пылесос встречает препятствие или стену, то он должен повернуть направо и изменить направление движения, то есть двигаться в обратном направлении.

  ```
pos_xy[1] += direction
...
if pos_xy[1] >= room[1]:
        pos_xy[1] = room[1] - 1
        pos_xy[0] += step
        direction = -1
    elif pos_xy[1] < 0:
        pos_xy[1] = 0
        pos_xy[0] += step
        direction = 1

    if pos_xy[0] >= room[0]:
        pos_xy[0] = room[0] - 1
    elif pos_xy[0] < 0:
        pos_xy[0] = 0
```

   **Далее сделан учет препятствий:** так как роботы-пылесос уже знает, где расположены препятствия, то были написаны дополнительные условия, которые помогают роботу-пылесосу строить траекторию движения так, чтобы он считал эти препятствия недостижимыми и не пытался в них попасть.

   ```
if str(pos_xy[0]) in "0123" and pos_xy[1] >= 7:
        pos_xy[1] = 6
        pos_xy[0] += step
        direction = -1

    if str(pos_xy[0]) in "56789" and pos_xy[1] <= 2:
        pos_xy[1] = 3
        pos_xy[0] += step
        direction = 1

    if (
        pos_xy[0] == 10 or pos_xy[0] == 11 or pos_xy[0] == 12 or pos_xy[0] == 13
    ) and pos_xy[1] >= 5:
        pos_xy[1] = 4
        pos_xy[0] += step
        direction = -1

    if pos_xy[0] == 10 and pos_xy[1] == 4:
        direction = -1

    if pos_xy[0] == 14 and pos_xy[1] == 0:
        direction = 1
```
**Результат движения робота-пылесоса по зигзагообразной траектории:**

<image src="https://github.com/millfsw/vacuum_cleaner/blob/main/screenshots/zig_zag_mode.png" width="600" height="500">

 2. Вспомогательный режим уборки по периметру

    Это уборка по периметру комнаты, уделяется больше внимания углам и плинтусам - тем местам, в которых обычно скапливаются шерсть, пыль и волосы.

    **Сначала была разработана идея движения:** робот-пылесос двигается по периметру комнаты, начиная с координаты (0, 0). Если робот-пылесос встречает препятствие или стену, то изменяет направление (вправо-вверх-влево-вниз)

    ```
    if direction == 0:
        pos_xy[0] += step
        if pos_xy[0] >= room[0]:
            pos_xy[0] = room[0] - 1
            direction = 1
    if direction == 1:
        pos_xy[1] += step
        if pos_xy[1] >= room[1]:
            pos_xy[1] = room[1] - 1
            direction = 2
    if direction == 2:
        pos_xy[0] -= step
        if pos_xy[0] < 0:
            pos_xy[0] = 0
            direction = 3
    if direction == 3:
        pos_xy[1] -= step
        if pos_xy[1] < 0:
            pos_xy[1] = 0
            direction = 0
    ```
    **Далее сделан учет препятствий:** так как роботы-пылесос уже знает, где расположены препятствия, то были написаны дополнительные условия, которые помогают роботу-пылесосу строить траекторию движения так, чтобы он считал эти препятствия недостижимыми и не пытался в них попасть.

    ```
    if pos_xy[0] == 4 and pos_xy[1] == 3:
        direction = 0

    if (pos_xy[0] == 4 and pos_xy[1] == 0) or (pos_xy[0] == 9 and pos_xy[1] == 4):
        direction = 1

    if (pos_xy[0] == 14 and pos_xy[1] == 4) or (pos_xy[0] == 4 and pos_xy[1] == 6):
        direction = 2

    if (pos_xy[0] == 10 and pos_xy[1] == 3) or (pos_xy[0] == 14 and pos_xy[1] == 9) or (pos_xy[0] == 4 and pos_xy[1] == 9):
        direction = 3
    ```

    **Результат движения робота-пылесоса по периметру комнаты:**

    <image src="https://github.com/millfsw/vacuum_cleaner/blob/main/screenshots/edge_mode.png" width="600" height="500">

3. Автоматический режим уборки (режим уборки зиг-загом + режим уборки по периметру комнаты)

   
